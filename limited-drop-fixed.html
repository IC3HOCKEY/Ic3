<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Limited Drop - IC3</title>
  <link rel="icon" type="image/png" href="Loga.png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Barlow+Condensed:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Your existing styles */
    .product-info {
      position: relative;
    }
    
    /* Hide quantity selector */
    .quantity-selector {
      display: none !important;
    }
    
    /* Style the buy button container */
    #shopify-buy-button {
      margin-top: 20px;
    }

    /* Carousel styles */
    .carousel {
      position: relative;
      width: 100%;
      max-width: 540px;
      height: 440px;
      margin: 0 auto;
      overflow: hidden;
      border-radius: 18px;
      background: #051024;
      padding: 6px;
      box-shadow: 0 25px 45px rgba(0, 0, 0, 0.35);
    }

    .carousel-images {
      display: flex;
      transition: transform 0.4s ease-in-out;
      width: 100%;
      height: 100%;
    }

    .carousel-image {
      min-width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px;
      flex: 0 0 100%;
      box-sizing: border-box;
    }

    .carousel-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 16px;
      background: #000;
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.08);
    }

    .carousel-controls {
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      padding: 0 15px;
      transform: translateY(-50%);
      pointer-events: none;
    }

    .carousel-control {
      background: rgba(255, 255, 255, 0.95);
      border: 2px solid rgba(0, 0, 0, 0.25);
      color: #000;
      font-size: 24px;
      padding: 10px 15px;
      border-radius: 50%;
      cursor: pointer;
      pointer-events: auto;
      transition: background 0.3s, transform 0.2s;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }

    .carousel-control:hover {
      background: #fff;
      transform: translateY(-2px);
    }

    @media (max-width: 768px) {
      .carousel {
        height: 320px;
        padding: 4px;
      }
    }

  </style>

  <script>
    // Wait for DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
      const track = document.querySelector('.carousel-images');
      const slides = Array.from(document.querySelectorAll('.carousel-image'));
      const prevBtn = document.querySelector('.carousel-control.prev');
      const nextBtn = document.querySelector('.carousel-control.next');
      const autoAdvanceMs = 4000;
      let currentIndex = 0;
      let autoAdvance;
      let touchStartX = null;

      const goToSlide = (index) => {
        currentIndex = (index + slides.length) % slides.length;
        track.style.transform = `translateX(-${currentIndex * 100}%)`;
      };

      const showNext = () => {
        goToSlide(currentIndex + 1);
      };

      const showPrev = () => {
        goToSlide(currentIndex - 1);
      };

      const startAutoAdvance = () => {
        autoAdvance = setInterval(showNext, autoAdvanceMs);
      };

      const resetAutoAdvance = () => {
        clearInterval(autoAdvance);
        startAutoAdvance();
      };

      const handleTouchStart = (event) => {
        if (!event.touches || !event.touches.length) return;
        touchStartX = event.touches[0].clientX;
        clearInterval(autoAdvance);
      };

      const handleTouchEnd = (event) => {
        if (touchStartX === null || !event.changedTouches || !event.changedTouches.length) return;
        const deltaX = event.changedTouches[0].clientX - touchStartX;
        if (Math.abs(deltaX) > 40) {
          deltaX < 0 ? showNext() : showPrev();
        }
        touchStartX = null;
        resetAutoAdvance();
      };

      if (track && slides.length) {
        goToSlide(0);
        startAutoAdvance();

        prevBtn?.addEventListener('click', () => {
          showPrev();
          resetAutoAdvance();
        });

        nextBtn?.addEventListener('click', () => {
          showNext();
          resetAutoAdvance();
        });

        track.addEventListener('mouseenter', () => clearInterval(autoAdvance));
        track.addEventListener('mouseleave', resetAutoAdvance);
        track.addEventListener('touchstart', handleTouchStart, { passive: true });
        track.addEventListener('touchend', handleTouchEnd, { passive: true });
      }
    });
  </script>
</head>
<body>
  <!-- Your existing navigation -->
  <nav>
    <div class="nav-container">
      <div class="logo-container">
        <a href="index.html" class="logo">
          <img src="loga.png" alt="IC3 Logo" class="logo-icon">
        </a>
      </div>
      <div class="nav-links">
        <a href="limited-drop.html">Limited Drop</a>
        <a href="om-oss.html">Om oss</a>
        <a href="kontakt.html">Kontakt</a>
        <a href="https://shop.ic3sweden.se/account/login" class="crew-login-btn">IC3 Crew – Logga in</a>
        <a href="cart.html" class="cart-icon">
          <img src="m%C3%A5lbur.png" alt="Cart" style="height: 24px;">
          <span id="cart-badge" class="cart-badge"></span>
        </a>
      </div>
    </div>
  </nav>

  <section class="product-section">
    <div class="product-image">
      <div class="carousel">
        <div class="carousel-images" id="carouselImages">
          <div class="carousel-image">
            <img src="assets/limited-drop/KepsD1.jpeg" alt="IC3 DROP 01 – Face-Off Cap Front View" class="product-img" loading="lazy">
          </div>
          <div class="carousel-image">
            <img src="assets/limited-drop/KepsD2.jpeg" alt="IC3 DROP 01 – Face-Off Cap Side View" class="product-img" loading="lazy">
          </div>
          <div class="carousel-image">
            <img src="assets/limited-drop/KepsD3.jpeg" alt="IC3 DROP 01 – Face-Off Cap Detail View" class="product-img" loading="lazy">
          </div>
          <div class="carousel-image">
            <img src="assets/limited-drop/KepsD4.jpeg" alt="IC3 DROP 01 – Face-Off Cap Back View" class="product-img" loading="lazy">
          </div>
          <div class="carousel-image">
            <img src="assets/limited-drop/KepsD5.jpeg" alt="IC3 DROP 01 – Face-Off Cap Worn View" class="product-img" loading="lazy">
          </div>
          <div class="carousel-image">
            <img src="assets/limited-drop/KepsD6.jpeg" alt="IC3 DROP 01 – Face-Off Cap Side Profile" class="product-img" loading="lazy">
          </div>
          <div class="carousel-image">
            <img src="assets/limited-drop/KepsD7.jpeg" alt="IC3 DROP 01 – Face-Off Cap Logo Detail" class="product-img" loading="lazy">
          </div>
        </div>
        <div class="carousel-controls">
          <button class="carousel-control prev" type="button" aria-label="Föregående bild">❮</button>
          <button class="carousel-control next" type="button" aria-label="Nästa bild">❯</button>
        </div>
      </div>
    </div>
    
    <div class="product-info">
      <h1>IC3 DROP 01 – Face-Off Cap</h1>
      <h2>"Cold days. Hot drops."</h2>  
      <div class="exclusive-tag">Endast 250 exemplar</div>
      <p class="price">Pris: 399 SEK</p>
      <p class="shipping">+ Frakt: 39 SEK (Sverige)</p>
      
      <!-- Button removed -->
      
      <div class="product-description">
        <p>Välkommen till IC3 DROP 01 – Face-Off Cap, en exklusiv keps designad för hockeyentusiaster som värdesätter stil och funktion. Denna begränsade upplaga är tillverkad av högkvalitativ bomull med en klassisk 6-panelsdesign och justerbar styrband för perfekt passform.</p>
        <p>Limiterad upplaga på endast 250 exemplar. Varje keps är numrerad för att bekräfta dess äkthet och exklusivitet.</p>
      </div>
      
      <!-- Shopify Buy Button -->
      <div id='product-component-1760348522476'></div>
      <!-- Fallback simple button -->
      <button class="add-to-cart-btn" onclick="window.location.href='https://mffake-s0.myshopify.com/cart/15341655818613:1'">Köp nu</button>
      
      <div class="product-details">
        <h3>Produktdetaljer:</h3>
        <ul>
          <li>Material: 100% bomull</li>
          <li>Färg: Svart med broderade detaljer</li>
          <li>Enhetsstorlek (justerbart styrband)</li>
          <li>6-panels design med böjt skärm</li>
          <li>Inkluderar IC3-märke framtill</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Notification element -->
  <div id="notification" class="notification"></div>
  
  <script type="text/javascript">
/*<![CDATA[*/
(function () {
  var scriptURL = 'https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js';
  if (window.ShopifyBuy) {
    if (window.ShopifyBuy.UI) {
      ShopifyBuyInit();
    } else {
      loadScript();
    }
  } else {
    loadScript();
  }
  function loadScript() {
    var script = document.createElement('script');
    script.async = true;
    script.src = scriptURL;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(script);
    script.onload = ShopifyBuyInit;
  }
  function ShopifyBuyInit() {
    var client = ShopifyBuy.buildClient({
      domain: 'mffake-s0.myshopify.com',
      storefrontAccessToken: '83938ccb17c73d80e45d15b78e186976',
    });
    ShopifyBuy.UI.onReady(client).then(function (ui) {
      ui.createComponent('product', {
        id: '15341655818613',
        node: document.getElementById('product-component-1760348522476'),
        moneyFormat: '%7B%7Bamount_no_decimals%7D%7D%20kr',
        options: {
  "product": {
    "styles": {
      "product": {
        "@media (min-width: 601px)": {
          "max-width": "calc(25% - 20px)",
          "margin-left": "20px",
          "margin-bottom": "50px"
        }
      },
      "title": {
        "color": "#9796d6"
      },
      "button": {
        "font-family": "Droid Sans, sans-serif",
        "font-weight": "bold",
        ":hover": {
          "background-color": "#3c4170"
        },
        "background-color": "#232642",
        ":focus": {
          "background-color": "#3c4170"
        },
        "border-radius": "12px"
      },
      "price": {
        "color": "#749ae2"
      },
      "compareAt": {
        "color": "#749ae2"
      },
      "unitPrice": {
        "color": "#749ae2"
      },
      "description": {
        "font-size": "15px",
        "color": "#859fda"
      }
    },
    "contents": {
      "img": false,
      "title": false,
      "price": false
    },
    "text": {
      "button": "Köp nu"
    },
    "googleFonts": [
      "Droid Sans"
    ]
  },
  "productSet": {
    "styles": {
      "products": {
        "@media (min-width: 601px)": {
          "margin-left": "-20px"
        }
      }
    }
  },
  "modalProduct": {
    "contents": {
      "img": false,
      "imgWithCarousel": true,
      "button": false,
      "buttonWithQuantity": true
    },
    "styles": {
      "product": {
        "@media (min-width: 601px)": {
          "max-width": "100%",
          "margin-left": "0px",
          "margin-bottom": "0px"
        }
      },
      "button": {
        "font-family": "Droid Sans, sans-serif",
        "font-weight": "bold",
        ":hover": {
          "background-color": "#3c4170"
        },
        "background-color": "#232642",
        ":focus": {
          "background-color": "#3c4170"
        },
        "border-radius": "12px"
      },
      "title": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "bold",
        "font-size": "26px",
        "color": "#4c4c4c"
      },
      "price": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "normal",
        "font-size": "18px",
        "color": "#4c4c4c"
      },
      "compareAt": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "normal",
        "font-size": "15.299999999999999px",
        "color": "#4c4c4c"
      },
      "unitPrice": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "normal",
        "font-size": "15.299999999999999px",
        "color": "#4c4c4c"
      },
      "description": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "normal",
        "font-size": "14px",
        "color": "#4c4c4c"
      }
    },
    "googleFonts": [
      "Droid Sans"
    ],
    "text": {
      "button": "Add to cart"
    }
  },
  "option": {},
  "cart": {
    "styles": {
      "button": {
        "font-family": "Droid Sans, sans-serif",
        "font-weight": "bold",
        ":hover": {
          "background-color": "#3c4170"
        },
        "background-color": "#232642",
        ":focus": {
          "background-color": "#3c4170"
        },
        "border-radius": "12px"
      }
    },
    "text": {
      "title": "Varukorg",
      "total": "Subtotal",
      "notice": "Frakt och rabattkod läggs till vid utceckning",
      "button": "Köp"
    },
    "googleFonts": [
      "Droid Sans"
    ]
  },
  "toggle": {
    "styles": {
      "toggle": {
        "font-family": "Droid Sans, sans-serif",
        "font-weight": "bold",
        "background-color": "#232642",
        ":hover": {
          "background-color": "#3c4170"
        },
        ":focus": {
          "background-color": "#3c4170"
        }
      }
    },
    "googleFonts": [
      "Droid Sans"
    ]
  }
},
      });
    });
  }
})();
</script>
</body>
</html>
