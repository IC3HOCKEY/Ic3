<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shopping Cart - IC3</title>
  <link rel="icon" type="image/png" href="Loga.png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Barlow+Condensed:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    nav {
      background-color: #111;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
      border-bottom: 1px solid #333;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    
    .cart-badge {
      position: absolute;
      top: 50%;
      right: 0;
      transform: translateY(-50%) translateX(100%);
      background: #99dffb;
      color: #000;
      border-radius: 4px;
      padding: 2px 6px;
      font-size: 12px;
      font-weight: bold;
      line-height: 1;
    }
    .cart-container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      backdrop-filter: blur(10px);
    }
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      color: #fff;
    }
    .cart-items {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    }
    .cart-item {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      padding: 1.5rem;
      color: #fff;
    }
    .cart-item img {
      width: 100%;
      height: 150px;
      object-fit: contain;
      border-radius: 4px;
      margin-bottom: 1rem;
    }
    .cart-item-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 1rem 0;
    }
    .cart-item-quantity {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .quantity-button {
      background: none;
      border: 1px solid #fff;
      color: #fff;
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .quantity-button:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    .quantity-input {
      width: 40px;
      text-align: center;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid #fff;
      color: #fff;
      padding: 0.25rem;
      border-radius: 4px;
    }
    .cart-total {
      background: rgba(0, 0, 0, 0.2);
      padding: 2rem;
      border-radius: 8px;
      margin-top: 2rem;
    }
    .checkout-button {
      background: #007bff;
      color: #fff;
      border: none;
      padding: 1rem 2rem;
      border-radius: 8px;
      font-size: 1.1rem;
      cursor: pointer;
      width: 100%;
      margin-top: 1rem;
      transition: background-color 0.3s;
    }
    .checkout-button:hover {
      background: #0056b3;
    }
    .empty-cart {
      text-align: center;
      padding: 4rem;
      color: #fff;
    }
  </style>

  <!-- Footer and Cookie Banner Styles -->
  <style>
    .footer {
      background-color: #1f2839;
      color: white;
      text-align: center;
      padding: 2rem 0;
      border-top: 3px solid #99dffb;
    }
    .footer a {
      color: white;
    }
    .footer .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    .footer-links {
      display: flex;
      gap: 2rem;
    }
    .cookie-banner {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: #253042;
      color: white;
      padding: 1rem;
      z-index: 1000;
      display: none;
      border-top: 3px solid #99dffb;
    }
    .cookie-banner .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .cookie-banner button {
      background: #1f2839;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
    }
    .cookie-banner .primary {
      background: #99dffb;
      color: #000;
    }
    .cookie-settings {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      display: none;
    }
    .cookie-settings.show {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .cookie-settings .modal {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      max-width: 600px;
      width: 90%;
    }
    .cookie-settings h2 {
      margin-top: 0;
    }
    .cookie-settings .category {
      margin: 1rem 0;
    }
    .cookie-settings label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    /* Legal Modal Styles */
    .legal-modal {
      display: none;
      position: fixed;
      z-index: 3000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.5);
    }
    .legal-modal.show {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 2rem;
      padding-top: 3rem;
      border: 1px solid #888;
      width: 80%;
      max-width: 800px;
      position: relative;
      border-radius: 8px;
      max-height: 80vh;
      overflow-y: auto;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      position: absolute;
      top: 0;
      right: 0;
      cursor: pointer;
      padding: 1rem;
    }
    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
    }
    #modal-body h1 {
      color: #253042;
      margin-bottom: 1rem;
    }
    #modal-body h2 {
      color: #253042;
      margin-top: 1.5rem;
    }
    #modal-body p {
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <nav>
    <div class="nav-container">
      <div class="logo-container">
        <div class="logo">
          <img src="Ic3.png" alt="IC3 text logo" class="logo-text">
        </div>
      </div>
      <div class="logo-icon-container">
        <img src="logaic3.png" alt="IC3 logo" class="logo-icon">
      </div>
      <div class="nav-links">
        <a href="index.html">Hem</a>
        <a href="limited-drop.html">Limited Drop</a>
        <a href="om-oss.html">Om oss</a>
        <a href="kontakt.html">Kontakt</a>
        <a href="cart.html" class="cart-link">
          <img src="hockey-goal.png" alt="Shopping Cart" width="24" height="24" style="filter: brightness(0) invert(1);">
          <span class="cart-badge" id="cart-badge">0</span>
        </a>
      </div>
    </div>
  </nav>

  <div class="cart-container">
    <div class="cart-header">
      <h1>Shopping Cart</h1>
      <div class="cart-total">
        <h3>Total: <span id="cart-total">0 SEK</span></h3>
      </div>
    </div>

    <div id="cart-items" class="cart-items">
      <!-- Cart items will be dynamically added here -->
    </div>

    <div class="cart-total">
      <h2>Checkout</h2>
      <div class="cart-summary">
        <p>Subtotal: <span id="cart-subtotal">0 SEK</span></p>
        <p>Shipping: <span id="cart-shipping">visas vid utceckning</span></p>
        <p>Total: <span id="cart-total-summary">0 SEK</span></p>
      </div>
      <div id='product-component-1760350102497'></div>
    </div>
  </div>

  <script>
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function updateCart() {
      const cartItems = document.getElementById('cart-items');
      const cartTotal = document.getElementById('cart-total');
      const cartSubtotal = document.getElementById('cart-subtotal');
      const cartTotalSummary = document.getElementById('cart-total-summary');
      
      cartItems.innerHTML = '';
      let total = 0;

      cart.forEach(item => {
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        
        cartItem.innerHTML = `
          <img src="${item.image}" alt="${item.name}">
          <h3>${item.name}</h3>
          <p>Price: ${item.price} SEK</p>
          <div class="cart-item-info">
            <button class="quantity-button" onclick="removeItem('${item.id}')">Remove</button>
          </div>
        `;
        
        cartItems.appendChild(cartItem);
        total += item.price * item.quantity;
      });

      cartTotal.textContent = total.toLocaleString() + ' SEK';
      cartSubtotal.textContent = total.toLocaleString() + ' SEK';
      cartTotalSummary.textContent = total.toLocaleString() + ' SEK';
    }

    function removeItem(itemId) {
      const itemIndex = cart.findIndex(item => item.id === itemId);
      if (itemIndex !== -1) {
        cart.splice(itemIndex, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCart();
      }
    }

    function checkout() {
      if (cart.length === 0) {
        alert('Your cart is empty!');
        return;
      }

      // Here you would typically redirect to a payment processor
      alert('Thank you for your purchase! Your order will be processed shortly.');
      localStorage.removeItem('cart');
      window.location.href = 'index.html';
    }

    // Initialize cart display
    updateCart();
  </script>

  <script type="text/javascript">
/*<![CDATA[*/
(function () {
  var scriptURL = 'https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js';
  if (window.ShopifyBuy) {
    if (window.ShopifyBuy.UI) {
      ShopifyBuyInit();
    } else {
      loadScript();
    }
  } else {
    loadScript();
  }
  function loadScript() {
    var script = document.createElement('script');
    script.async = true;
    script.src = scriptURL;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(script);
    script.onload = ShopifyBuyInit;
  }
  function ShopifyBuyInit() {
    var client = ShopifyBuy.buildClient({
      domain: 'mffake-s0.myshopify.com',
      storefrontAccessToken: '83938ccb17c73d80e45d15b78e186976',
    });
    ShopifyBuy.UI.onReady(client).then(function (ui) {
      ui.createComponent('product', {
        id: '15341655818613',
        node: document.getElementById('product-component-1760350102497'),
        moneyFormat: '%7B%7Bamount_no_decimals%7D%7D%20kr',
        options: {
  "product": {
    "styles": {
      "product": {
        "@media (min-width: 601px)": {
          "max-width": "calc(25% - 20px)",
          "margin-left": "20px",
          "margin-bottom": "50px"
        }
      },
      "title": {
        "color": "#9796d6"
      },
      "button": {
        "font-family": "Droid Sans, sans-serif",
        "font-weight": "bold",
        "font-size": "17px",
        "padding-top": "16.5px",
        "padding-bottom": "16.5px",
        ":hover": {
          "background-color": "#3c4170"
        },
        "background-color": "#232642",
        ":focus": {
          "background-color": "#3c4170"
        },
        "border-radius": "21px",
        "padding-left": "45px",
        "padding-right": "45px"
      },
      "quantityInput": {
        "font-size": "17px",
        "padding-top": "16.5px",
        "padding-bottom": "16.5px"
      },
      "price": {
        "color": "#0a101c"
      },
      "compareAt": {
        "color": "#0a101c"
      },
      "unitPrice": {
        "color": "#0a101c"
      },
      "description": {
        "font-size": "15px",
        "color": "#040a16"
      }
    },
    "buttonDestination": "checkout",
    "contents": {
      "img": false,
      "title": false,
      "price": false
    },
    "text": {
      "button": "Köp nu"
    },
    "googleFonts": [
      "Droid Sans"
    ]
  },
  "productSet": {
    "styles": {
      "products": {
        "@media (min-width: 601px)": {
          "margin-left": "-20px"
        }
      }
    }
  },
  "modalProduct": {
    "contents": {
      "img": false,
      "imgWithCarousel": true,
      "button": false,
      "buttonWithQuantity": true
    },
    "styles": {
      "product": {
        "@media (min-width: 601px)": {
          "max-width": "100%",
          "margin-left": "0px",
          "margin-bottom": "0px"
        }
      },
      "button": {
        "font-family": "Droid Sans, sans-serif",
        "font-weight": "bold",
        "font-size": "17px",
        "padding-top": "16.5px",
        "padding-bottom": "16.5px",
        ":hover": {
          "background-color": "#3c4170"
        },
        "background-color": "#232642",
        ":focus": {
          "background-color": "#3c4170"
        },
        "border-radius": "21px",
        "padding-left": "45px",
        "padding-right": "45px"
      },
      "quantityInput": {
        "font-size": "17px",
        "padding-top": "16.5px",
        "padding-bottom": "16.5px"
      },
      "title": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "bold",
        "font-size": "26px",
        "color": "#4c4c4c"
      },
      "price": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "normal",
        "font-size": "18px",
        "color": "#4c4c4c"
      },
      "compareAt": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "normal",
        "font-size": "15.299999999999999px",
        "color": "#4c4c4c"
      },
      "unitPrice": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "normal",
        "font-size": "15.299999999999999px",
        "color": "#4c4c4c"
      },
      "description": {
        "font-family": "Helvetica Neue, sans-serif",
        "font-weight": "normal",
        "font-size": "14px",
        "color": "#4c4c4c"
      }
    },
    "googleFonts": [
      "Droid Sans"
    ],
    "text": {
      "button": "Add to cart"
    }
  },
  "option": {},
  "cart": {
    "styles": {
      "button": {
        "font-family": "Droid Sans, sans-serif",
        "font-weight": "bold",
        "font-size": "17px",
        "padding-top": "16.5px",
        "padding-bottom": "16.5px",
        ":hover": {
          "background-color": "#3c4170"
        },
        "background-color": "#232642",
        ":focus": {
          "background-color": "#3c4170"
        },
        "border-radius": "21px"
      }
    },
    "text": {
      "title": "Varukorg",
      "total": "Subtotal",
      "notice": "Frakt och rabattkod läggs till vid utceckning",
      "button": "Köp"
    },
    "googleFonts": [
      "Droid Sans"
    ]
  },
  "toggle": {
    "styles": {
      "toggle": {
        "font-family": "Droid Sans, sans-serif",
        "font-weight": "bold",
        "background-color": "#232642",
        ":hover": {
          "background-color": "#3c4170"
        },
        ":focus": {
          "background-color": "#3c4170"
        }
      },
      "count": {
        "font-size": "17px"
      }
    },
    "googleFonts": [
      "Droid Sans"
    ]
  }
},
      });
    });
  }
})();
/*]]>*/
</script>
</body>
</html>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-links">
        <a href="#" onclick="openModal('terms')">Terms</a>
        <a href="#" onclick="openModal('privacy')">Integritet</a>
        <a href="#" onclick="openModal('cookies')">Cookies</a>
      </div>
      <div>
        <p>Contact: kontakt@ic3brand.se</p>
        <p> IC3 "Cold days. Hot drops."</p>
      </div>
    </div>
  </footer>

  <!-- Legal Content Modal -->
  <div id="legal-modal" class="legal-modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div id="modal-body">
        <!-- Content will be inserted here -->
      </div>
    </div>
  </div>

  <!-- Cookie Consent Banner -->
  <div id="cookie-banner" class="cookie-banner">
    <div class="container">
      <span>Vi använder cookies för att förbättra din upplevelse. Välj vad som passar dig.</span>
      <div>
        <button onclick="acceptAllCookies()">Acceptera alla</button>
        <button onclick="acceptNecessaryCookies()">Endast nödvändiga</button>
        <button onclick="openCookieSettings()">Inställningar</button>
      </div>
    </div>
  </div>

  <!-- Cookie Settings Modal -->
  <div id="cookie-settings" class="cookie-settings">
    <div class="modal">
      <h2>Cookieinställningar</h2>
      <div class="category">
        <label>
          <input type="checkbox" id="necessary" checked disabled /> Nödvändiga cookies
        </label>
        <p>Nödvändiga för att webbplatsen ska fungera.</p>
      </div>
      <div class="category">
        <label>
          <input type="checkbox" id="analytics" /> Analyscookies
        </label>
        <p>Hjälper oss att förstå hur besökare använder webbplatsen.</p>
      </div>
      <div class="category">
        <label>
          <input type="checkbox" id="marketing" /> Marknadsföringscookies
        </label>
        <p>Används för att visa relevanta annonser.</p>
      </div>
      <button onclick="saveCookieSettings()">Spara inställningar</button>
    </div>
  </div>

  <script>
    // Cookie consent logic
    document.addEventListener('DOMContentLoaded', () => {
      const consent = localStorage.getItem('ic3.cookies');
      if (!consent) {
        document.getElementById('cookie-banner').style.display = 'block';
      }
    });

    function acceptAllCookies() {
      const prefs = { necessary: true, analytics: true, marketing: true };
      localStorage.setItem('ic3.cookies', JSON.stringify(prefs));
      document.getElementById('cookie-banner').style.display = 'none';
    }

    function acceptNecessaryCookies() {
      const prefs = { necessary: true, analytics: false, marketing: false };
      localStorage.setItem('ic3.cookies', JSON.stringify(prefs));
      document.getElementById('cookie-banner').style.display = 'none';
    }

    function openCookieSettings() {
      document.getElementById('cookie-banner').style.display = 'none';
      document.getElementById('cookie-settings').style.display = 'flex';
    }

    function saveCookieSettings() {
      const prefs = {
        necessary: true,
        analytics: document.getElementById('analytics').checked,
        marketing: document.getElementById('marketing').checked,
      };
      localStorage.setItem('ic3.cookies', JSON.stringify(prefs));
      document.getElementById('cookie-settings').style.display = 'none';
    }
  </script>

  <script>
    // Legal Modal Functions
    function openModal(type) {
      const modal = document.getElementById('legal-modal');
      const body = document.getElementById('modal-body');
      
      let content = '';
      if (type === 'terms') {
        content = `
          <h1>Användarvillkor – IC3</h1>
          <p>Senast uppdaterad: 2025-10-13</p>
          <h2>1. Allmänna villkor</h2>
          <p>Välkommen till IC3. Genom att använda vår webbplats och våra tjänster accepterar du dessa användarvillkor.</p>
          <h2>2. Användning av tjänster</h2>
          <p>Du får använda våra produkter och tjänster enligt dessa villkor. Alla rättigheter förbehålls IC3.</p>
          <h2>3. Begränsningar</h2>
          <p>Du får inte missbruka våra tjänster eller bryta mot gällande lagar.</p>
          <h2>4. Ansvar</h2>
          <p>IC3 ansvarar inte för indirekta skador som uppstår genom användning av våra produkter.</p>
        `;
      } else if (type === 'privacy') {
        content = `
          <h1>Integritetspolicy – IC3</h1>
          <p>Denna integritetspolicy förklarar hur IC3 samlar in, använder och skyddar din personliga information enligt GDPR.</p>
          <h2>1. Insamling av information</h2>
          <p>Vi samlar in information som du ger oss när du använder våra tjänster.</p>
          <h2>2. Användning av information</h2>
          <p>Vi använder informationen för att förbättra våra tjänster och kommunicera med dig.</p>
          <h2>3. Delning av information</h2>
          <p>Vi delar inte din information med tredje part utan ditt samtycke.</p>
          <h2>4. Dina rättigheter</h2>
          <p>Du har rätt att begära åtkomst, korrigering eller radering av din information.</p>
          <h3>Kontakta oss om integritet</h3>
          <p>Om du har frågor om integritet, kontakta oss på privacy@ic3brand.se.</p>
        `;
      } else if (type === 'cookies') {
        content = `
          <h1>Cookiepolicy – IC3</h1>
          <p>Denna cookiepolicy förklarar hur vi använder cookies på vår webbplats.</p>
          <h2>Kategorier av cookies</h2>
          <h3>Nödvändiga cookies</h3>
          <p>Dessa är nödvändiga för att webbplatsen ska fungera korrekt. De kan inte stängas av.</p>
          <h3>Analyscookies</h3>
          <p>Dessa hjälper oss att förstå hur besökare använder webbplatsen för att förbättra upplevelsen.</p>
          <h3>Marknadsföringscookies</h3>
          <p>Dessa används för att visa relevanta annonser baserat på dina intressen.</p>
          <h2>Hur du ändrar inställningar</h2>
          <p>Du kan ändra dina cookieinställningar genom att klicka på "Inställningar" i cookiebannern eller besöka /cookies.</p>
        `;
      }
      
      body.innerHTML = content;
      modal.classList.add('show');
      
      // Ensure close button works
      const closeBtn = modal.querySelector('.close');
      if (closeBtn) {
        closeBtn.addEventListener('click', closeModal);
      }
      
      // Add event listeners for closing
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeModal();
        }
      });
      
      // Close on escape key
      const escapeHandler = (e) => {
        if (e.key === 'Escape') {
          closeModal();
          document.removeEventListener('keydown', escapeHandler);
        }
      };
      document.addEventListener('keydown', escapeHandler);
    }

    function closeModal() {
      const modal = document.getElementById('legal-modal');
      modal.classList.remove('show');
    }
  </script>
</body>
</html>
